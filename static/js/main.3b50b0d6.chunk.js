(this.webpackJsonpmessagingapp=this.webpackJsonpmessagingapp||[]).push([[0],{105:function(e,t,a){e.exports=a(130)},129:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),i=a(12),s=a(57),o=a(31),u=a(32),m=a(36),d=a(34),p=a(30),h=a(168),f=a(171),E=a(172),b=a(59),g=a.n(b),v={apiKey:"AIzaSyAHzS-BpuOpzmNVs6fcyGwP5_9C-38tx-g",authDomain:"classroomchatter-a7f90.firebaseapp.com",databaseURL:"https://classroomchatter-a7f90.firebaseio.com",projectId:"classroomchatter-a7f90",storageBucket:"classroomchatter-a7f90.appspot.com",messagingSenderId:"416988184247",appId:"1:416988184247:web:e25ee91765ef93607ed732",measurementId:"G-CR305YY5T9"};g.a.initializeApp(v);var N=g.a,y=g.a.firestore(),C={USER_AUTHENTICATED:"USER_AUTHENTICATED",USER_DISCONNECTED:"USER_DISCONNECTED",GET_USER:"GET_USER",MESSAGE_ADDED:"MESSAGE_ADDED",ADD_COMMENT:"ADD_COMMENT",CHANNEL_CHANGE:"CHANNEL_CHANGE",CHANNEL_ADD:"CHANNEL_ADD",CHANNEL_LIST:"CHANNEL_LIST"},O=function(e){return{type:C.GET_USER,payload:{userId:e.uid,displayName:e.displayName,email:e.email,firstName:e.firstName,lastName:e.lastName,photoURL:"http://picsum.photos/200",website:e.website,bio:e.bio,docId:e.docId}}},j=function(){return{type:C.USER_AUTHENTICATED,payload:{authenticated:!0}}},I=function(e){return{type:C.CHANNEL_LIST,payload:{channels:e}}},S=function(e){return{type:C.MESSAGE_ADDED,payload:{messages:e}}},w=function(e){return{type:C.ADD_COMMENT,payload:{comments:e}}};var D=function(){var e=Object(i.c)();return r.a.createElement(h.a,{position:"static"},r.a.createElement(f.a,{className:"nav-container"},r.a.createElement(p.c,{to:"/edit",style:{textDecoration:"none"}},r.a.createElement(E.a,{className:"nav-link-button",variant:"text"},"Profile")),r.a.createElement(p.c,{to:"/",style:{textDecoration:"none"}},r.a.createElement(E.a,{className:"nav-link-button",variant:"text",color:"default"},"Home")),r.a.createElement(E.a,{variant:"text",color:"secondary",className:"nav-link-button",onClick:function(){N.auth().signOut(),e({type:C.USER_DISCONNECTED,payload:{authenticated:!1}})}},"Log Out")))},x=a(185),k=a(15),A=a(7),U=a(182),_=a(16),T=a(173),L=a(174),R=a(38),W=a(175),H=a(188);function M(e){return new Promise((function(t,a){return y.collection("users").where("uid","==",e).get().then((function(e){e.forEach((function(e){t(Object(A.a)(Object(A.a)({},e.data()),{},{docId:e.id}))}))}),(function(e){}))}))}function P(e,t){y.collection("users").doc(e.docId).update(Object(A.a)({},t)).then((function(){}),(function(e){}))}function G(e){return y.collection("users").add(Object(A.a)(Object(A.a)({},e),{},{dateCreated:new Date}))}function B(){return new Promise((function(e,t){y.collection("channels").get().then((function(t){return e(t)}))}))}function F(){return new Promise((function(e,t){y.collection("messages").orderBy("dateCreated","desc").get().then((function(t){return e(t)}))}))}function q(){return new Promise((function(e,t){y.collection("comments").get().then((function(t){return e(t)}))}))}var z=function(){var e=Object(n.useState)(""),t=Object(_.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),s=Object(_.a)(c,2),o=s[0],u=s[1],m=Object(n.useState)(),d=Object(_.a)(m,2),p=d[0],h=d[1],f=Object(i.c)(),b=Object(i.d)();Object(n.useEffect)((function(){B().then((function(e){var t=[];e.forEach((function(e){t.push(Object(A.a)(Object(A.a)({},e.data()),{},{docId:e.id}))})),f(I(t))}))}),[]);var g=function(e){f(function(e){return{type:C.CHANNEL_CHANGE,payload:{channel:e}}}(e)),console.log(b.getState().channels.selectedChannel.docId)},v=function(e){console.log("changed name of channel to")},N=function(e){console.log("deleted Channel")};return r.a.createElement(T.a,{className:"channel-display"},r.a.createElement(L.a,{className:"channel-header",title:r.a.createElement(R.a,{variant:"h6",display:"inline"},"All Channels ",r.a.createElement(W.a,{className:"create-channel-button custom-button",onClick:function(){return u(!o)}},"+"))}),o&&r.a.createElement("form",null,r.a.createElement(H.a,{variant:"standard",type:"text",fullWidth:"true",onChange:function(e){return l(e.target.value)},label:"Enter channel name...",value:a}),r.a.createElement(E.a,{color:"primary",size:"medium",type:"submit",onClick:function(e){e.preventDefault(),u(!1),console.log("adding channel"),function(e){y.collection("channels").add({name:e.name,creatorId:e.uid,dateCreated:new Date,members:[],public:!0})}({name:a,uid:b.getState().user.userId}),B().then((function(e){var t=[];e.forEach((function(e){t.push(Object(A.a)(Object(A.a)({},e.data()),{},{docId:e.id}))})),f(I(t))})),l("")}},"Add Channel"),r.a.createElement(E.a,{color:"secondary",size:"medium",type:"submit",onClick:function(){return u(!1)}},"Cancel")),b.getState().channels.allChannels.map((function(e){return e.docId===b.getState().channels.selectedChannel.docId?r.a.createElement(E.a,{key:e.docId,variant:"contained",fullWidth:!0,color:"primary",onClick:function(){return g(e)}},e.name):r.a.createElement(E.a,{key:e.docId,variant:"text",fullWidth:!0,onClick:function(){return g(e)}},e.name)})),r.a.createElement(L.a,{title:r.a.createElement(R.a,{variant:"h6",display:"inline"},"Your Channels")}),b.getState().channels.allChannels.map((function(e){var t=[];return e.creatorId===b.getState().user.userId?t=r.a.createElement(E.a,{key:e.docId,variant:"text",fullWidth:!0,onClick:function(){return h(e.docId)}},e.name):e.creatorId===b.getState().user.userId&&p===e.docId&&(t=r.a.createElement(r.a.Fragment,null," ",r.a.createElement(E.a,{key:e.docId,variant:"contained",fullWidth:!0,onClick:function(){return h("")}},e.name),r.a.createElement(E.a,{variant:"text",fullWidth:!0,onClick:function(){return v},color:"primary"},"Change Name"),r.a.createElement(E.a,{variant:"text",fullWidth:!0,onClick:function(){return N},color:"secondary"},"Delete"))),t})))},Y=a(23),V=a.n(Y),X=a(41),J=a(176),Q=a(177),Z=a(178),K=a(192),$=a(179),ee=a(180),te=a(92),ae=a.n(te),ne=a(91),re=a.n(ne),le=a(90),ce=a.n(le),ie=function(e){var t=Object(n.useState)(""),a=Object(_.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(_.a)(s,2),u=o[0],m=o[1],d=Object(i.c)(),p=Object(i.d)();Object(n.useEffect)((function(){q().then((function(e){var t=[];e.forEach((function(e){t.push(Object(A.a)(Object(A.a)({},e.data()),{},{docId:e.id}))})),d(w(t))}))}));var h=function(){var t=Object(X.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n={commentBody:l,userId:p.getState().user.userId,userImg:p.getState().user.photoURL,displayName:p.getState().user.displayName,messageId:e.docId},y.collection("comments").add(Object(A.a)(Object(A.a)({},n),{},{dateCreated:new Date})),t.next=4,q().then((function(e){e.forEach((function(e){a.push(Object(A.a)(Object(A.a)({},e.data()),{},{docId:e.id}))}))}));case 4:d(w(a)),c("");case 6:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(T.a,{className:"message-card"},r.a.createElement(L.a,{avatar:r.a.createElement(K.a,{src:e.userImg}),title:r.a.createElement(R.a,{variant:"h6",className:"message-title"},e.username)}),r.a.createElement(ee.a,null,r.a.createElement(R.a,{variant:"body1",className:"message-body"},e.messageBody),p.getState().posts.comments.map((function(t){var a;return t.messageId===e.docId&&(a=r.a.createElement("div",{key:t.docId},r.a.createElement(J.a,{dense:!0},r.a.createElement(Q.a,null,r.a.createElement(Z.a,null,r.a.createElement(K.a,{variant:"rounded",src:t.userImg})),r.a.createElement($.a,{primary:t.displayName,secondary:t.commentBody}))))),a}))),r.a.createElement(H.a,{placeholder:"Post a comment!",label:"Post a comment!",multiline:!0,fullwidth:"true",rows:1,value:l,variant:"outlined",onChange:function(e){return c(e.target.value)},className:"comment-box"}),r.a.createElement(W.a,{type:"button",variant:"contained",className:"post-button",color:"primary",disabled:""===l,onClick:h},r.a.createElement(ce.a,null)),r.a.createElement(W.a,{variant:"contained",className:"like-button",onClick:function(e){return m(!u)}},u?r.a.createElement(re.a,{color:"primary"}):r.a.createElement(ae.a,null)))},se=function(e){var t=Object(n.useState)(""),a=Object(_.a)(t,2),l=a[0],c=a[1],s=Object(i.c)(),o=Object(i.d)();return r.a.createElement(T.a,{className:"message-card"},r.a.createElement(L.a,{avatar:r.a.createElement(K.a,{src:o.getState().user.photoURL}),title:r.a.createElement(R.a,{variant:"h6",className:"message-title"},e.user.displayName)}),r.a.createElement(ee.a,null,r.a.createElement(R.a,{variant:"body1",className:"message-body"},"Write new posts here!")),r.a.createElement(H.a,{id:"outlined-multiline-static",label:"Create a new post!",multiline:!0,fullwidth:"true",rows:2,variant:"outlined",className:"comment-box",onChange:function(e){return c(e.target.value)},value:l}),r.a.createElement(E.a,{id:"post-button",type:"button",variant:"contained",className:"post-button",color:"primary",disabled:""===l||"default"===e.selectedChannel.name,onClick:function(t){var a,n,r;t.preventDefault(),a=l,n=e.selectedChannel,r=e.user,y.collection("messages").add({body:a,channelId:n.docId,userId:r.userId,userImg:r.photoURL,displayName:r.displayName,dateCreated:new Date}).then((function(){})).catch((function(e){console.log("failure",e)})),F().then((function(e){var t=[];e.forEach((function(e){t.push(Object(A.a)(Object(A.a)({},e.data()),{},{docId:e.id}))})),s(S(t))})),c("")}},"Post!"))},oe=a(58),ue=a(181),me=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={firstName:"",lastName:"",displayName:"",email:"",website:"",bio:"",edit:!1},e}return Object(u.a)(a,[{key:"setEdit",value:function(){console.log(this.edit),this.edit=!this.edit}},{key:"handleInput",value:function(e){this.setState(Object(oe.a)({},e.target.name,e.target.value))}},{key:"updateProfile",value:function(){var e={firstName:this.state.firstName,lastName:this.state.lastName,displayName:this.state.displayName,email:this.state.email,website:this.state.website,bio:this.state.bio};P(this.props.user,e),this.props.getUser(),this.setState({edit:!1})}},{key:"render",value:function(){var e=this;return this.edit?r.a.createElement(T.a,{className:"profile-area"},r.a.createElement(L.a,{className:"profile-name"},r.a.createElement(H.a,{onChange:function(t){return e.handleInput(t)},name:"firstName",label:"First Name",value:this.props.user.firstName}),console.log("ding"),r.a.createElement(H.a,{onChange:function(t){return e.handleInput(t)},name:"lastName",label:"Last Name",value:this.props.user.lastName}),r.a.createElement(W.a,{onClick:function(){return e.setEdit()}},r.a.createElement(ue.a,null)),r.a.createElement(H.a,{onChange:function(t){return e.handleInput(t)},name:"displayName",className:"profile-name",label:"Display Name",placeholder:this.props.user.displayName})),r.a.createElement("div",{className:"profile-image"},r.a.createElement("img",{alt:"user avatar",className:"profile-img",src:this.props.user.photoURL})),r.a.createElement(H.a,{onChange:function(t){return e.handleInput(t)},name:"email",label:"Email",placeholder:this.props.user.email}),r.a.createElement(H.a,{onChange:function(t){return e.handleInput(t)},name:"website",label:"Website",placeholder:this.props.user.website}),r.a.createElement(H.a,{onChange:function(t){return e.handleInput(t)},name:"bio",label:"Bio",placeholder:this.props.user.bio}),r.a.createElement(E.a,{color:"primary",variant:"contained",onClick:function(){return e.updateProfile()}},"Update"),r.a.createElement(E.a,{color:"secondary",variant:"contained",onClick:function(){return e.setEdit()}},"Cancel")):!1===this.edit||void 0===this.edit?r.a.createElement(T.a,{className:"profile-area"},r.a.createElement(L.a,{className:"profile-name",title:r.a.createElement(R.a,{variant:"h5",className:"message-title"},this.props.user.firstName+" "+this.props.user.lastName+"       ",r.a.createElement(W.a,{onClick:function(){return e.setEdit()}},r.a.createElement(ue.a,null))),subheader:r.a.createElement(R.a,{className:"profile-name"},this.props.user.displayName)}),r.a.createElement("div",{className:"profile-image"},r.a.createElement("img",{alt:"user avatar",className:"profile-img",src:this.props.user.photoURL})),console.log("dong"),r.a.createElement(ee.a,{className:"profile-field-value"},this.props.user.email),r.a.createElement(ee.a,{className:"profile-field-value"},this.props.user.website),r.a.createElement(ee.a,{className:"profile-field-value"},this.props.user.bio)):void 0}}]),a}(r.a.Component),de={getUser:O},pe=Object(i.b)((function(e){return{user:e.user}}),de)(me),he=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).displayChannelMessages=function(){var t=e.props,a=t.selectedChannel;return t.posts.messages.map((function(e,t){var n;return e.channelId===a.docId&&(n=r.a.createElement(ie,{channelId:a.docId,key:t,messageBody:e.body,userImg:e.userImg,username:e.displayName,docId:e.docId})),n}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;F().then((function(t){var a=[];t.forEach((function(e){a.push(Object(A.a)(Object(A.a)({},e.data()),{},{docId:e.id}))})),e.props.updateMessages(a)})),B().then((function(t){var a=[];t.forEach((function(e){a.push(Object(A.a)(Object(A.a)({},e.data()),{},{docId:e.id}))})),e.props.updateChannels(a)}))}},{key:"render",value:function(){return r.a.createElement(U.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(U.a,{item:!0,xs:3},r.a.createElement(z,null)),r.a.createElement(U.a,{item:!0,xs:6},r.a.createElement(se,{user:this.props.user,selectedChannel:this.props.selectedChannel}),this.displayChannelMessages()),r.a.createElement(U.a,{item:!0,xs:3},r.a.createElement(pe,null)))}}]),a}(r.a.Component),fe={updateChannels:I,updateMessages:S},Ee=Object(i.b)((function(e){return{selectedChannel:e.channels.selectedChannel,posts:e.posts,user:e.user}}),fe)(he),be=function(e){var t=Object(i.c)(),a=Object(i.d)(),l=Object(n.useState)(a.getState().user.email),c=Object(_.a)(l,2),s=c[0],o=c[1],u=Object(n.useState)(a.getState().user.displayName),m=Object(_.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(a.getState().user.firstName),f=Object(_.a)(h,2),b=f[0],v=f[1],N=Object(n.useState)(a.getState().user.lastName),y=Object(_.a)(N,2),C=y[0],O=y[1],j=Object(n.useState)(a.getState().user.website),I=Object(_.a)(j,2),S=I[0],w=I[1],D=Object(n.useState)(a.getState().user.bio),x=Object(_.a)(D,2),A=x[0],T=x[1],L=Object(n.useState)(!1),R=Object(_.a)(L,2),W=R[0],M=R[1];Object(n.useEffect)((function(){var e;function t(){return(t=Object(X.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.auth().currentUser;case 2:e=t.sent,console.log(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);return r.a.createElement(U.a,{container:!0},!1===a.getState().auth.authenticated||W?r.a.createElement(k.a,{to:"/"}):null,r.a.createElement(U.a,{item:!0,xs:8,className:"signup-form-container"},r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement(H.a,{value:s,label:"Email",autoFocus:!0,required:!0,className:"signup-input",id:"email",name:"email",type:"text",onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(H.a,{value:d,required:!0,label:"Username",className:"signup-input",id:"displayName",name:"displayName",type:"text",onChange:function(e){return p(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(H.a,{value:b,className:"signup-input",label:"First Name",id:"firstName",name:"firstName",type:"text",onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(H.a,{value:C,className:"signup-input",id:"lastName",name:"lastName",label:"Last Name",type:"text",onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(H.a,{value:S,className:"signup-input",id:"website",name:"website",label:"Website",type:"text",onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(H.a,{value:A,className:"signup-input",id:"bio",name:"bio",type:"text",label:"Bio",onChange:function(e){return T(e.target.value)}})),r.a.createElement("div",{className:"signup-button"},r.a.createElement(E.a,{variant:"contained",type:"submit",color:"primary",onClick:function(){var e={firstName:b,lastName:C,displayName:d,email:s,website:S,bio:A};P(a.getState().user,e),t(),M(!0)}},"Update Profile")))))},ge=function(){return r.a.createElement(k.d,null,r.a.createElement(k.b,{exact:!0,path:"/",component:Ee}),r.a.createElement(k.b,{path:"/edit",component:be}),r.a.createElement(k.b,{component:Ee}))},ve=a(186),Ne=a(187),ye=a(190),Ce=a(183),Oe=a(189),je=a(94),Ie=a.n(je),Se=a(184),we=a(93),De=a.n(we);function xe(e,t){return N.auth().createUserWithEmailAndPassword(e,t).catch((function(e){console.log("Sign up with email failed",e)}))}function ke(e,t){return N.auth().signInWithEmailAndPassword(e,t).catch((function(e){console.log(e)}))}function Ae(){var e=new N.auth.GoogleAuthProvider;return N.auth().signInWithPopup(e)}function Ue(){return r.a.createElement(R.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(Ce.a,{color:"inherit",href:"https://material-ui.com/"},"Travis Heffelfinger")," ",(new Date).getFullYear(),".")}var _e=Object(Se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Te=function(){var e=Object(n.useState)(null),t=Object(_.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),s=Object(_.a)(c,2),o=s[0],u=s[1],m=Object(n.useState)(!1),d=Object(_.a)(m,2),p=d[0],h=d[1],f=Object(i.c)(),b=Object(i.d)(),g=_e();function v(){return(v=Object(X.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ke(a,o);case 3:n=e.sent;try{M(n.user.uid).then((function(e){f(O(e)),f(j()),console.log(b.getState())}),(function(e){console.log(e)}))}catch(p){console.log("this error came from catch "+p),h("Invalid email or password")}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(X.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ae();case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(ve.a,null),r.a.createElement("div",{className:g.paper},r.a.createElement(K.a,{className:g.avatar},r.a.createElement(Ie.a,null)),r.a.createElement(R.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:g.form,noValidate:!0,onSubmit:function(e){return v.apply(this,arguments)}},r.a.createElement(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:p,helperText:p?"Invalid email or password":"",id:"email",label:"Email address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){l(e.target.value)}}),r.a.createElement(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){u(e.target.value)}}),r.a.createElement(Ne.a,{id:"remember-me",control:r.a.createElement(ye.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(E.a,{type:"submit",variant:"contained",color:"primary",id:"login-button",className:g.submit},"Sign In"),r.a.createElement("div",null,r.a.createElement(De.a,{className:"google-button",fullwidth:"true",variant:"contained",type:"light",onClick:function(e){return N.apply(this,arguments)}})),r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:!0},r.a.createElement(Ce.a,{href:"/#/home",variant:"body2"}," ","Forgot Password?")),r.a.createElement(U.a,{item:!0},r.a.createElement(Ce.a,{href:"/#/signup",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(Oe.a,{mt:8},r.a.createElement(Ue,null)))},Le=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Te,null))}}]),a}(r.a.Component),Re=a(191),We=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={authenticated:!1,disabled:!0,firstName:"",lastName:"",displayName:"",email:"",password:"",website:"",bio:""},e.handleChange=function(t){e.setState(Object(oe.a)({},t.target.name,t.target.value)),e.state.email&&e.state.password&&e.state.displayName&&e.setState({disabled:!1})},e.handleSignUp=function(){var t=Object(X.a)(V.a.mark((function t(a){var n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(e.state.email&&e.state.password&&e.state.displayName)){t.next=17;break}return t.next=4,xe(e.state.email,e.state.password);case 4:if(null===(r=N.auth().currentUser)){t.next=14;break}return n={firstName:e.state.firstName,lastName:e.state.lastName,displayName:e.state.displayName,uid:r.uid,email:e.state.email,photoURL:r.photoURL||"https://picsum.photos/200",website:e.state.website,bio:e.state.bio},t.next=9,G(n);case 9:e.setState({authenticated:!0}),e.props.getUser(n),e.props.authenticateUser(),t.next=15;break;case 14:console.log("signup failed");case 15:t.next=18;break;case 17:console.log("non valid email or password");case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"render",value:function(){return this.state.authenticated?r.a.createElement(k.a,{to:"/"}):r.a.createElement(x.a,{component:"div",maxWidth:"md"},r.a.createElement(U.a,{container:!0,spacing:2,justify:"center",direction:"column",alignItems:"center"},r.a.createElement(U.a,{item:!0},r.a.createElement(R.a,{variant:"h4"},"Welcome to Classroom Chatter!")),r.a.createElement(U.a,{item:!0},r.a.createElement("form",null,r.a.createElement(U.a,{container:!0,spacing:2,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(U.a,{item:!0},r.a.createElement(H.a,{value:this.state.email,label:"Email",autoFocus:!0,fullWidth:!0,required:!0,className:"signup-input",id:"email",name:"email",type:"text",variant:"outlined",onChange:this.handleChange})),r.a.createElement(U.a,{item:!0},r.a.createElement(H.a,{value:this.state.password,required:!0,variant:"outlined",label:"Password",fullWidth:!0,className:"signup-input",id:"password",name:"password",type:"password",onChange:this.handleChange})),r.a.createElement(U.a,{item:!0},r.a.createElement(H.a,{value:this.state.displayName,required:!0,label:"Username",variant:"outlined",fullWidth:!0,className:"signup-input",id:"displayName",name:"displayName",type:"text",onChange:this.handleChange})),r.a.createElement(U.a,{item:!0},r.a.createElement(H.a,{value:this.state.firstName,className:"signup-input",label:"First Name",variant:"outlined",id:"firstName",name:"firstName",fullWidth:!0,type:"text",onChange:this.handleChange})),r.a.createElement(U.a,{item:!0},r.a.createElement(H.a,{value:this.state.lastName,className:"signup-input",id:"lastName",variant:"outlined",name:"lastName",label:"Last Name",fullWidth:!0,type:"text",onChange:this.handleChange})),r.a.createElement(U.a,{item:!0},r.a.createElement(H.a,{value:this.state.website,className:"signup-input",variant:"outlined",id:"website",name:"website",fullWidth:!0,label:"Website",type:"text",onChange:this.handleChange})),r.a.createElement(U.a,{item:!0},r.a.createElement(H.a,{value:this.state.bio,className:"signup-input",variant:"outlined",id:"bio",name:"bio",fullWidth:!0,type:"text",label:"Bio",onChange:this.handleChange})),r.a.createElement(E.a,{variant:"contained",type:"submit",color:"primary",onClick:this.handleSignUp,disabled:this.state.disabled},"Create Account"),r.a.createElement(Re.a,{className:"signup-label"},r.a.createElement(Ce.a,{variant:"body2",underline:"none"},r.a.createElement(p.b,{style:{textDecoration:"none"},to:"/login"}," Already have an account? sign in"))))))))}}]),a}(r.a.Component),He={authenticateUser:j,getUser:O},Me=Object(i.b)((function(e){return{authenticated:e.auth.authenticated}}),He)(We),Pe=function(){return r.a.createElement(k.d,null,r.a.createElement(k.b,{exact:!0,path:"/",component:Le}),r.a.createElement(k.b,{exact:!0,path:"/login",component:Le}),r.a.createElement(k.b,{exact:!0,path:"/signup",component:Me}))},Ge=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(x.a,{className:"app-container"},this.props.authenticated&&r.a.createElement(D,null),this.props.authenticated?r.a.createElement(ge,null):r.a.createElement(Pe,null)))}}]),a}(r.a.Component),Be={updateChannels:I,updateMessages:S},Fe=Object(i.b)((function(e){return{authenticated:e.auth.authenticated}}),Be)(Ge),qe=(a(129),{bio:"I am the first test of Signup",displayName:"ExampleProject",email:"test@email.com",firstName:"Travis",lastName:"Heffelfinger",photoURL:"http://picsum.photos/200",userId:"dwCGwI2rwBc42CIQHS8jIJ5ZQR12",website:"website"});var ze=Object(s.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authenticated:!1},t=arguments.length>1?arguments[1]:void 0;return t.type===C.USER_AUTHENTICATED||t.type===C.USER_DISCONNECTED?Object(A.a)(Object(A.a)({},e),{},{authenticated:t.payload.authenticated}):e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(A.a)({},qe),t=arguments.length>1?arguments[1]:void 0;return t.type===C.GET_USER?Object(A.a)(Object(A.a)({},e),t.payload):e},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{messages:[],comments:[]},t=arguments.length>1?arguments[1]:void 0;return t.type===C.MESSAGE_ADDED||t.type===C.ADD_COMMENT?Object(A.a)(Object(A.a)({},e),t.payload):e},channels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectedChannel:{creatorId:"default",dateCreated:"00:00:00",name:"default",public:!0,members:[],docId:"6I5S8EZ6wdMEk4DRHY5b"},allChannels:[]},t=arguments.length>1?arguments[1]:void 0;return t.type===C.CHANNEL_CHANGE?Object(A.a)(Object(A.a)({},e),{},{selectedChannel:t.payload.channel}):t.type===C.CHANNEL_ADD?e:t.type===C.CHANNEL_LIST?Object(A.a)(Object(A.a)({},e),{},{allChannels:t.payload.channels}):e}}),Ye=Object(s.c)(ze,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(i.a,{store:Ye},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Fe,null))),document.querySelector("#root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.3b50b0d6.chunk.js.map